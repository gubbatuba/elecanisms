# Variable-Period "Police Light"
*Amanda Sutherland* | *Ryan Eggert* | *Subhash Gubba*

To run this program on an "Elecanisms" PIC24 microprocessor board, first be sure that your environment is configured as specified by [this documents](http://elecanisms.olin.edu/handouts/20160121_BuildTools.pdf) from Olin College's 2016 "Elecanisms" course. You may also find it useful to review [this document](http://elecanisms.olin.edu/handouts/130909_elecanisms_board_notes.pdf) (especialy the "Tactile Switches/Bootloader" section) which familiarizes you with how the PIC24 board interfaces over USB with a computer.

Clone this repository and navigate to the `blink/` directory. Open `SConstruct` and make sure that `env.PrependENVPath('PATH', '/opt/microchip/xc16/v1.25/bin')` contains the correct path to your installation of the Microchip XC16 build tools.

While still in the `blink/` directory, run `scons` to compile the hex files for programming the PIC24 board.

Connect your PIC24 board to your computer via USB. Navigate to the repository's `site_scons/` directory and run `./bootloadergui.py`. You should see a GUI interface appear. Depending on the configuration of your USB device permissions, you may need to run this with `sudo`.

> If you get an Python import error regarding `usb.core`, install a sufficiently new version of [pyusb](https://github.com/walac/pyusb). 

Ensure the PIC24 board is ready to connect, and then press the "Connect" button. Once connected, load the hex file [File > Import Hex] generated by `blink/blink.c`. Once loaded into the GUI, press "Write". When this completes, press "Disconnect/Run", and you should see the red and blue lights blink alternately. Notice that their period changes, looping from fast to slow to fast again.
